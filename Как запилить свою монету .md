Пилим свою монету на основе Litecoin 0.8.7.5
============================================

# Процесс разработки

Установка VM 
------------

Устанавливаем VirtualBox https://www.virtualbox.org/wiki/Downloads
Скачиваем образ Ubuntu 16.04.3 https://www.ubuntu.com/download/desktop
Виртульной машине даем не менне 2Гб ОЗУ. Для более быстрой компиляции можно дать несколько ядер ЦП
Виртуальный ЖД делаем 20Гб этого хватит за глаза


https://www.youtube.com/watch?v=mDGxGYvkDEE

Настройка OS и установка зависимостей
-------------------------------------

Для начала обновляем систему! В терминале вводим следующие команды(ВСЕ КОМАНДЫ ВВОДЯТСЯ ПОСТРОЧНО!):

	sudo apt-get update
	sudo apt-get upgrade

Так же стоит установить htop, mc, terminator, pydf.

	sudo apt-get install htop, mc, terminator, pydf.

Для установки необходимых программ и библиотек вводим это:

	sudo apt-get install git
	sudo apt-get install build-essential libtool autotools-dev automake pkg-config libssl-dev libevent-dev bsdmainutils
	sudo apt-get install libboost-all-dev
	sudo apt-get install software-properties-common
	sudo add-apt-repository ppa:bitcoin/bitcoin
	sudo apt-get update
	sudo apt-get install libdb4.8-dev libdb4.8++-dev
	sudo apt-get install libminiupnpc-dev
	sudo apt-get install libzmq3-dev
	sudo apt-get install libqt5gui5 libqt5core5a libqt5dbus5 qttools5-dev qttools5-dev-tools libprotobuf-dev protobuf-compiler
	sudo apt-get install libqt4-dev libprotobuf-dev protobuf-compiler

## Клонируем litecoin

	git clone -b 0.8 https://github.com/litecoin-project/litecoin.git

Редактируем иходный код litecoin
--------------------------------

## !Необходимо профиксить ошибку

Для этого в папке `litecoin/src` в файле `rpcrawtransaction.cpp` переходим к строке `242` и изменяем строку как показано ниже

-`const CScriptID& hash = boost::get<const CScriptID&>(address);`
+`const CScriptID& hash = boost::get<CScriptID>(address);`

## Заменяем все что связано с litecoin на свое

Переименовываем папку litecoin на название нашей монеты:

	mv litecoin <нашкоин>

Переходим в папку нашей будующей монеты:

	cd <нашкоин>

Далее заменяем все, что касаеться litecoin в исходниках, на название нашей монеты.

	find . -type f -print0 | xargs -0 sed -i 's/litecoin/<нашкоин>/g'
	find . -type f -print0 | xargs -0 sed -i 's/Litecoin/<Нашкоин>/g'
	find . -type f -print0 | xargs -0 sed -i 's/LiteCoin/<Нашкоин>/g'
	find . -type f -print0 | xargs -0 sed -i 's/LITECOIN/<НАШКОИН>/g'
	find . -type f -print0 | xargs -0 sed -i 's/LTC/<НАШ>/g'
*Например <нашкоин> = testcoin <НАШ> = TST*

Делаем пробную компиляцию

	cd src
	make -f makefile.unix

Если компиляция прошла успешно в папке `src` появиться файл с названием нашей монеты  с окончанием d <нашкоинd>
 продолжаем дальше.
Иначе внимательно читаем консольный вывод.

## Замена портов

https://www.youtube.com/watch?v=U2NZaw-c4gE

Далее таким же способом меняем порты на наши 

	find . -type f -print0 | xargs -0 sed -i 's/9333/<порт>/g'
	find . -type f -print0 | xargs -0 sed -i 's/19333/<1+порт>/g'
	find . -type f -print0 | xargs -0 sed -i 's/9332/<порт на 1 меньше>/g'
	find . -type f -print0 | xargs -0 sed -i 's/19332/<1+порт на 1 меньше>/g'
*Например <порт> = 5988 & <порт на 1 меньше> = 5987*

## Изменяем префиксы в адресах монеты

В дирректории `/<нашкоин>/src` в файле `base58.h` на строке 275 изменить следуючщий код:

-`PUBKEY_ADDRESS = 48, // Litecoin addresses start with L`
+`PUBKEY_ADDRESS = <свое знчение>, // Testcoin addresses start with <свой символ>`
*Для главной сети монеты*

-`PUBKEY_ADDRESS_TEST = 127, // Litecoin test addresses start with l`
+`PUBKEY_ADDRESS_TEST = <свое знчение>, // Testcoin test addresses start with <свой символ>`
*Для тестовой сети*

!Для того чтобы правильно подобрать значение соответсвующее символу см. https://en.bitcoin.it/wiki/List_of_address_prefixes

##

